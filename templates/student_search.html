{% extends "base.html" %}
{%load static%}
{% block content %}
<div class="container">
    <header>
        <div class="logo">College Portal</div>
        <h1>Search Students</h1>
        <p class="subtitle">Find student records by registration number</p>
    </header>
    
    <div class="search-container">
        <form method="get" class="search-form">
            <input type="text" name="q" placeholder="Enter Registration Number" value="{{ request.GET.q }}" class="search-input">
            <button type="submit" class="search-button">
                <i class="fas fa-search"></i> Search
            </button>
        </form>
        <p class="search-hint">You can search by registration number, name, or other student details</p>
    </div>
    
    {% if students %}
    <div class="results-container">
        <h3 class="results-title">Search Results</h3>
        <ul class="student-list">
            {% for student in students %}
            <li class="student-item">
                <div class="student-info">
                    <div class="student-name">{{ student.name }}</div>
                    <div class="student-reg">{{ student.reg_no }}</div>
                </div>
                <a href="{% url 'student_detail' student.id %}" class="view-button">View Details</a>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% elif request.GET.q %}
    <div class="results-container">
        <div class="no-results">
            <i class="fas fa-user-slash"></i>
            <p>No students found matching "{{ request.GET.q }}"</p>
        </div>
    </div>
    {% endif %}
</div>

<!-- External CSS + JS -->
<link rel="stylesheet" href="{% static 'css/student_search.css' %}">
<script src="{% static 'js/student_search.js' %}"></script>
{% endblock %}
